
<!DOCTYPE html>
<html>
<head>
	<title>CSV String to List</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        table, th, td {
  border: 2px solid black;
  border-style: double;
}

input.invalid {
			background-color: #ffdddd;
		}


        input.valid {
			background-color: #c3f9be;
		}
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		function convertToUppercase(csvString) {
			var values = csvString.split(",");
            $("#output").empty();
			return values;
		}

		$(document).ready(function() {
			$("#convert-btn").click(function() {
				var csvString = $("#csv-input").val();
				let  strResult  =  convertToUppercase(csvString);

			    $.each(strResult, function(index, strResult) {
				$("#output").append("<li>" + strResult.toUpperCase() + "</li>");
			});

			});
		});
	</script>
</head>
<body>
    <div class="container">

        
	<label for="csv-input">Enter CSV String:</label>
	<input type="text" class="form-control" id="csv-input"><br><br>
	<button class="btn btn-success" id="convert-btn">GET DATA</button>
	<ul id="output"></ul>
    
    <hr>

    <h1>Customer Credit Card Details</h1>
    <button class="btn btn-success" id="card">GET CARD DETAILS</button>
	
	<table>
		<tr>
			<th>Credit Card Number</th>
			<td id="card-number"></td>
		</tr>
		<tr>
			<th>Card Holder Name</th>
			<td id="card-holder-name"></td>
		</tr>
		<tr>
			<th>Card Type</th>
			<td id="card-type"></td>
		</tr>
		<tr>
			<th>Expiry Date</th>
			<td id="expiry-date"></td>
		</tr>
	</table>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    
		$(document).ready(function() {
			$("#card").click(function() {

	let customerObj = {  
        cardNumber  :   1234456778997896,  chName : "narasimha Rao",  cardType : "Visa",  expireMonth : 12,  expireYear : 2022
       };

	// Format the card number
	let maskedCardNumber = "****-****-****-" + customerObj.cardNumber.toString().slice(-4);

	// Format the expiry date
	let formattedExpiryDate = new Date(customerObj.expireYear, customerObj.expireMonth - 1).toLocaleString('default', { month: 'short', year: 'numeric' });

    
const str = customerObj.chName.charAt(0).toUpperCase() + customerObj.chName.slice(1);


	// Update the table with the formatted data using jQuery
	$('#card-number').text(maskedCardNumber);
	$('#card-holder-name').text(str);
	$('#card-type').text(customerObj.cardType.toUpperCase());
	$('#expiry-date').text(formattedExpiryDate);
            });
        });
</script>

<hr>


<button class="btn btn-success" id="get-data-btn">Get Data</button>
<div id="customer-data">
    <!-- Data will be displayed here -->
</div>
<hr>



<h1>Validation Example</h1>
<form>
    <label for="personName">Person Name (10 characters, only alphabets):</label>
    <input type="text" id="personName" name="personName"><br>

    <label for="personContact">Person Contact Number (10 digits):</label>
    <input type="text" id="personContact" name="personContact"><br>

    <label for="vehicleNumber">Vehicle Number (AA11AA1111):</label>
    <input type="text" id="vehicleNumber" name="vehicleNumber"><br>

    <label for="cityName">City Name (only capital letters):</label>
    <input type="text" id="cityName" name="cityName"><br>

    <input type="submit" value="Submit">
</form>



<script>
    $(document).ready(function() {
	// Sample data object
	let customerObj = {  
		cardNumber  :   1234456778997896,  
		chName : "Narasimha Rao",  
		cardType : "Visa",  
		expireMonth : 12,  
		expireYear : 2022,
        
	};

	// Function to format card number
	function formatCardNumber(cardNumber) {
		return "****-****-****-" + cardNumber.toString().slice(-4);
	}

	// Function to format expiry date
	function formatExpiryDate(expireMonth, expireYear) {
		let monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
		let month = monthNames[expireMonth-1];
		return month + " " + expireYear.toString();
	}

	// Event listener for "Get Data" button
	$("#get-data-btn").click(function() {
		// Build the HTML for the customer data table
		let html = '<table class="table  table-bordered">';
html += '<tr><th>Credit Card Number</th><td> ' + formatCardNumber(customerObj.cardNumber) + '</td> </tr>'
    html += '<tr><th>Card Holder Name</th><td> ' + customerObj.chName + '</td> </tr>'
        html += '<tr><th>Card Type</th><td> ' + customerObj.cardType + '</td> </tr>'

html += '<tr><th>Expiry Date</th><td> ' +  formatExpiryDate(customerObj.expireMonth, customerObj.expireYear) + '</td> </tr>'
html +='</table>'


	// Display the HTML in the customer-data div
		$("#customer-data").html(html);
	});
});

</script>



<script type="text/javascript">
    $(document).ready(function() {

        // Validation for Person Name
        $('#personName').on('input', function() {
            var input=$(this);
            var is_name=input.val();
            if(is_name.match(/^[A-Za-z]{1,10}$/)) {
             $(this).after('<span class="invalid"> only</spam>');
               
            removeClass("invalid");
            }
            else {
                $(this).after('<span class="invalid"> Numeric only</spam>');
               
               removeClass("invalid");
            }
        });

        // Validation for Person Contact Number
        $('#personContact').on('input', function() {
            var input=$(this);
            var is_phone=input.val();
            if(is_phone.match(/^\d{10}$/)) {
                input.removeClass("invalid").addClass("valid");
            }
            else {
                input.removeClass("valid").addClass("invalid");
            }
        });

        // Validation for Vehicle Number
        $('#vehicleNumber').on('input', function() {
            var input=$(this);
            var is_vehicle_number=input.val();
            if(is_vehicle_number.match(/^[A-Z]{2}\d{2}[A-Z]{2}\d{4}$/)) {
                input.removeClass("invalid").addClass("valid");
            }
            else {
                input.removeClass("valid").addClass("invalid");
            }
        });

        // Validation for City Name
        $('#cityName').on('input', function() {
            var input=$(this);
            var is_city_name=input.val();
            if(is_city_name.match(/^[A-Z]{1,}$/)) {
                input.removeClass("invalid").addClass("valid");
            }
            else {
                input.removeClass("valid").addClass("invalid");
            }
        });

    });
</script>
<style type="text/css">
    input.invalid {
        background-color: #ffdddd;
    }
</style>



</div>
</body>
</html>
